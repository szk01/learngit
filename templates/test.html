<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="static/js/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/socket.io/1.5.1/socket.io.min.js"></script>
    <script type="text/javascript" src="static/js/om.js"></script>
    <title>测试</title>
    <style type="text/css">
        * {
            margin: 0;
        }

<!--        /*通话记录*/-->
<!--        .phone-note {-->
<!--            margin: 10px 5px;                 /* 上下 左右 */-->
<!--            height: 60px;-->
<!--            /*border: 1px solid #000;*/-->
<!--            background-color: #EEE9E9;-->

<!--        }-->

<!--        ul li {-->
<!--            list-style: none;-->
<!--            float: left;-->
<!--            margin: 20px 10px;-->
<!--            width: 150px;-->
<!--        }-->
<!--        .cdr {-->
<!--            font-weight: bold;-->
<!--        }-->
<!--        .record {-->
<!--            text-decoration: none;-->
<!--        }-->
<!--        .record:visited {-->
<!--            color: red;-->
<!--        }-->
<!--        .play {-->
<!--            text-decoration: none;-->
<!--        }-->
<!--        .play:visited {-->
<!--            color: red;-->
<!--        }-->

        /*来电通知*/
        .call-note-container {
            height: 80px;
            background-color: orange;
            display: none;
        }
        .call-number {
            font-size: 20px;
            color:red;
            display: inline-block;
            margin: 30px 30px;
        }
        .time {
            display: inline-block;
        }
        .status {
            display: inline-block;
        }
    </style>
</head>
<body>
    <div>电话会议测试</div>
    <div>
        <button class="three">213</button>
        <button class="four">214</button>
        <button class="five">215</button>
    </div>

    <div>第三方进入</div>
    <div>
        <button class="tp3">213</button>
        <button class="tp4">214</button>
        <button class="tp5">215</button>
    </div>
        <button class="satisfy">满意度调查按钮</button>


    <h2>这是一个测试页面，使用webSocket协议</h2>
    <a href="/seat">测试是否跳转</a>
<!--    <div class="call-note-container">-->
<!--        <div class="call-number">来电号码</div>-->
<!--        <div class="time">通话时间</div>-->
<!--        <div class="status">状态</div>-->
<!--        <button class="bt-startTime">开始计时</button>-->
<!--        <button class="bt-stopTime">停止计时</button>-->
<!--    </div>-->

<!--    <div id="call-record-container">-->
<!--        <ul class="phone-note">-->
<!--            <li class="cdr">通话记录</li>-->
<!--            <li class="number"><em>017730523795</em></li>-->
<!--            <li class="all-time">0:19</li>-->
<!--            <li ><a href="http://127.0.0.1:80/audio/017730523795_200_20190816-174816_32780.wav" class="record">录音下载</a></li>-->
<!--            <li ><audio controls>-->
<!--                    <source src="http://127.0.0.1:80/audio/017730523795_200_20190816-174816_32780.wav" type="audio/wav"></source>-->
<!--                </audio>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </div>-->
        <div style="text-align: center; margin: 340px 0; font:24px 'MicroSoft YaHei';">
            <p>欢迎来到深圳泛远</p>
            <p>你的工号是{{name}}ll</p>
        </div>
    <script>
        $('.three').click(function(){
            console.log('点击213按钮')
            socket.emit('conference',{'phone': 213});
            $('.tp3').attr('disabled', true);               //让重复第三方按钮失效
        })

        $('.four').click(function(){
            console.log('点击214按钮')
            socket.emit('conference',{'phone': 214});
            $('.tp4').attr('disabled', true);               //让重复第三方按钮失效
        })

        $('.five').click(function(){
            console.log('点击215按钮')
            socket.emit('conference',{'phone': 215});
            $('.tp5').attr('disabled', true);               //让重复第三方按钮失效
        })


        /* 让第三方加入会话 */
        $('.tp3').click(function(){
            console.log('tp3-212 hold请求')
            socket.emit('hold', {'hphone': 213});            // 发送212的hold请求
        })

        $('.tp4').click(function(){
            console.log('tp4-212 hold请求')
            socket.emit('hold', {'hphone': 214});
        })

        $('.tp5').click(function(){
            console.log('tp5-212 hold请求')
            socket.emit('hold', {'hphone': 215});
        })

        $('.satisfy').click(function() {
            console.log('点击满意度按钮')
            socket.emit('satisfy', {'satisfy': 'y'})
        })


    </script>

</body>
</html>


